# Резерв ID - PWA інструкції

## Встановлення додатку на iOS iPhone

### Крок 1: Підготовка іконок
1. Завантажте іконку `apple-touch-icon-57x57.png` з репозиторію
2. Створіть всі необхідні розміри іконок згідно з інструкціями у файлі `/public/icon-instructions.md`
3. Помістіть всі іконки у папку `/public`

### Крок 2: Розгортання додатку
1. Зберіть проєкт командою: `npm run build`
2. Розмістіть додаток на HTTPS сервері (GitHub Pages, Vercel, Netlify тощо)
   - **Важливо:** PWA працює тільки через HTTPS!

### Крок 3: Встановлення на iPhone
1. Відкрийте Safari на вашому iPhone
2. Перейдіть за URL вашого додатку
3. Натисніть кнопку "Поділитися" (квадрат зі стрілкою вгору)
4. Прокрутіть вниз та виберіть "До екрана «Домівка»"
5. Введіть назву (або залиште "Резерв ID")
6. Натисніть "Додати"

### Крок 4: Запуск
1. Іконка додатку з'явиться на домашньому екрані
2. Натисніть на іконку для запуску додатку
3. Додаток відкриється у повноекранному режимі без адресного рядка Safari

## Особливості iOS PWA

### Що працює:
- ✅ Встановлення на домашній екран
- ✅ Повноекранний режим (standalone)
- ✅ Кастомна іконка
- ✅ Splash screen при запуску
- ✅ Офлайн режим (через Service Worker)

### Обмеження iOS:
- ⚠️ Service Worker може не зберігати дані довго (iOS може видалити кеш)
- ⚠️ Push-повідомлення не підтримуються (станом на iOS 16.3+, підтримка обмежена)
- ⚠️ Деякі браузерні API можуть не працювати

## Розробка та тестування

### Локальна розробка:
```bash
# Встановіть залежності
npm install

# Запустіть dev сервер
npm run dev
```

### HTTPS для локального тестування:
Для тестування PWA функцій локально, вам потрібен HTTPS. Використайте:

```bash
# Використовуйте ngrok для створення HTTPS тунелю
npx ngrok http 3000
```

### Тестування на пристрої:
1. Запустіть dev сервер з HTTPS або через ngrok
2. Відкрийте URL на вашому iPhone
3. Перевірте встановлення на домашній екран

## Build для продакшну

```bash
# Збірка проєкту
npm run build

# Preview збірки локально
npm run preview
```

## Рекомендовані хостинг платформи

### Vercel (рекомендовано):
```bash
npm install -g vercel
vercel
```

### Netlify:
```bash
npm install -g netlify-cli
netlify deploy
```

### GitHub Pages:
1. Додайте у `package.json`: `"homepage": "https://yourusername.github.io/rezerv"`
2. Додайте скрипт deploy: `"deploy": "npm run build && gh-pages -d dist"`
3. Встановіть gh-pages: `npm install --save-dev gh-pages`
4. Запустіть: `npm run deploy`

## Налаштування manifest.json

Файл `/public/manifest.json` містить конфігурацію PWA:
- `name`: Повна назва додатку
- `short_name`: Коротка назва (під іконкою)
- `background_color`: Колір фону (#e0dfcb)
- `theme_color`: Колір теми браузера
- `display`: "standalone" для повноекранного режиму
- `orientation`: "portrait-primary" для вертикальної орієнтації

## Service Worker

Service Worker (`/public/service-worker.js`) забезпечує:
- Кешування ресурсів для офлайн роботи
- Швидке завантаження додатку
- Оновлення кешу при зміні версії

## Перевірка PWA

### Chrome DevTools (на комп'ютері):
1. Відкрийте додаток у Chrome
2. Відкрийте DevTools (F12)
3. Перейдіть на вкладку "Application"
4. Перевірте Manifest, Service Workers, Cache Storage

### iOS Safari (на iPhone):
1. Відкрийте Safari → Settings → Advanced → Web Inspector
2. Підключіть iPhone до Mac
3. Відкрийте Safari на Mac → Develop → [Ваш iPhone]

## Troubleshooting

### Іконка не відображається:
- Перевірте, чи всі іконки завантажені у `/public`
- Перевірте консоль браузера на помилки
- Очистіть кеш Safari та спробуйте знову

### Додаток не працює офлайн:
- Перевірте, чи Service Worker зареєстрований (DevTools → Application)
- Перевірте Cache Storage
- На iOS, кеш може бути видалений системою

### Splash screen не відображається:
- iOS показує splash screen тільки при першому запуску
- Перевірте, чи існують файли splash-*.png

## Контакти та підтримка

Якщо виникають питання, перевірте:
1. Консоль браузера на помилки
2. Network tab на відсутні ресурси
3. Application tab на статус Service Worker

---

**Важливо:** Для коректної роботи PWA обов'язково використовуйте HTTPS!
